{% from "components/nba_components.html" import stats_table_header, pagination, badge, teammate_card %}

<div id="teammates-table-container">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 p-4">
        {% for teammate in teammates %}
            {% set shared_info = teammate.total_seasons ~ " temp (" ~ (teammate.seasons_together|length) ~ " años)" %}
            {{ teammate_card(teammate, subtext=shared_info, right_val=teammate.total_seasons) }}
        {% else %}
            <div class="col-span-full py-12 text-center text-slate-500 dark:text-slate-400 font-medium italic">
                {% if search %}
                    No se encontraron compañeros que coincidan con "{{ search }}".
                {% else %}
                    No hay información de compañeros históricos disponible.
                {% endif %}
            </div>
        {% endfor %}
    </div>

    <!-- Pagination -->
    {{ pagination(page, total_pages, '/players/' ~ player.id ~ '/teammates', {'search': search}) }}
</div>
